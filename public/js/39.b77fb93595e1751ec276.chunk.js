webpackJsonp([39],{426:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={data:function(){var t=this;return{loading:!1,tableData:[],meta:{current_page:1,total:0,per_page:10},tableColumns:[{title:"id",key:"id"},{title:"分类名",key:"name"},{title:"描述",key:"description"},{title:"创建时间",key:"created_at"},{title:"操作",key:"action",align:"center",render:function(e,a){return e("div",[e("router-link",{props:{to:"/categories/"+a.row.id+"/edit"}},[e("Button",{props:{type:"success",shape:"circle",icon:"edit"},style:{marginRight:"5px"}})]),e("Button",{props:{type:"error",shape:"circle",icon:"android-delete"},on:{click:function(){t.handleDelete(a)}}})])}}]}},created:function(){this.loadData()},methods:{loadData:function(){var t=this;this.loading=!0;var e="categories";if(this.meta.current_page>1){var a="";e=e+(a=-1!=e.indexOf("?")?"&page=":"?page=")+this.meta.current_page,this.$router.push(a+this.meta.current_page)}this.$http.get(e).then(function(e){t.loading=!1,t.tableData=e.data,t.meta=e.meta})},handleCurrentChange:function(t){this.meta.current_page=t,this.loadData()},handleDelete:function(t){var e=this;this.$Modal.confirm({title:"删除该分类?",content:"该分类会永久删除，请三思!",okText:"是,删除它!",cancelText:"取消",loading:!0,onOk:function(){e.$http.delete("categories/"+t.row.id).then(function(t){e.$Modal.remove(),e.loadData(),e.$Message.success("删除成功")})}})}}}},427:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("Row",[a("Col",{attrs:{span:24}},[a("Card",[a("p",{staticStyle:{height:"100%","text-align":"right"},attrs:{slot:"title"},slot:"title"},[a("router-link",{attrs:{to:"/categories/add"}},[a("Button",{attrs:{type:"primary",icon:"android-add-circle"}},[t._v("添加分类")])],1)],1),t._v(" "),a("Table",{attrs:{loading:t.loading,data:t.tableData,columns:t.tableColumns,stripe:""}}),t._v(" "),a("div",{staticStyle:{margin:"10px",overflow:"hidden"}},[a("div",{staticStyle:{float:"right"}},[a("Page",{attrs:{total:t.meta.total,current:t.meta.current_page},on:{"on-change":t.handleCurrentChange}})],1)])],1)],1)],1)],1)},staticRenderFns:[]}},557:function(t,e,a){var n=a(1)(a(426),a(427),!1,null,null,null);t.exports=n.exports}});